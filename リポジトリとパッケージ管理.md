## 🔰 はじめに

Linux学習記録の第4回です。  
**Linuxの リポジトリとパッケージ管理**の要点や自分が躓いたところをまとめていきます。

学習環境はこれまで通り **Ubuntu（Debian系）** を使用しています。

## 📚要点

先ほど書いたとおりに、私が覚えていられるか不安なところなどをまとめました。<br></br>

<details>
<summary>▶️ 要点を展開</summary>


<br></br>【apt コマンド】


`apt` はリポジトリを利用して、パッケージのインストール・削除・検索などを行うコマンドです。

`apt-get`, `apt-cache` でできるコマンドを一つにしたようなもの、という認識で覚えました。


**サブコマンド**：実行したい操作（install、updateなど）<br></br
                                          >
**キーワード**：対象となるパッケージ名



<strong>apt サブコマンド一覧</strong>

| サブコマンド      | 説明                                                             | 学んだこと                                                           |
|-------------------|------------------------------------------------------------------|----------------------------------------------------------------------|
| `update`          | パッケージ情報を更新                                             | 最新のパッケージ一覧を取得する必要がある前処理                      |
| `upgrade`         | パッケージを更新                                                 | 現在インストール済みのソフトを最新版にする                          |
| `install`         | パッケージをダウンロード・インストール                           | 必要なソフトを導入する基本的なコマンド                              |
| `remove`          | パッケージを削除                                                 | ソフトを削除するが設定ファイルは残ることがある                      |
| `full-upgrade`    | 必要に応じてパッケージの削除も含めてシステム全体を更新           | カーネルなどの重要な更新にも対応する高度な更新                      |
| `list`            | パッケージの一覧を表示                                           | インストール済み or 利用可能なパッケージを確認できる                |
| `search`          | パッケージを検索                                                 | キーワードで目的のソフトを探すときに便利                            |
| `show`            | パッケージの情報を表示                                           | そのパッケージの詳細（説明・依存関係など）を確認できる              |



<strong>キーワードの指定</strong>

| キーワード      | 説明               |
|------------------|--------------------|
| パッケージ名     | 操作対象の名前を指定 |


⚠： `apt` コマンドを使用する際には、`sudo` コマンドも同時に付ける。

⚠： `apt list --upgradable` コマンドを実行すると、アップグレードができるコマンドを確認できる。<br></br>



以下のスクリーンショットは、実際に `apt list --upgradable` を実行した結果になります。
緑色の文字が、実際にアップグレードできるパッケージになります。


<img width="623" height="286" alt="image" src="https://github.com/user-attachments/assets/11dd5898-532f-47e1-99ba-9731b83451cd" />


---

<strong>【apt系のコマンドの設定ファイル】</strong>
<br></br>

apt系のコマンドの設定ファイルは、<br></br>

`/etc/apt/sources.list` で表します。<br></br>

以下は実際に実行してみた結果です。これだけではなく、画面上に収まらないほどの数がありました。

赤線部が示すところは、各パッケージの設定行です。<br></br>


<img width="524" height="197" alt="etc" src="https://github.com/user-attachments/assets/8460d575-0327-4699-8da0-370a8a01d38e" />


`deb`では、パッケージのタイプを、 `https:~~`では、リポジトリのURLを、
`bionic ~~` ではリリースのコードネーム（OSのバージョンごとに付けられた愛称・識別名のこと）を、 `main ~~`ではリリースのコンポーネント（「信頼性」「ライセンス」「サポートの有無」）、を表しています。

---

【dpkg コマンド】

`dpkg` は、Debian系Linux（Ubuntuなど）で `.deb` パッケージをローカルで管理・操作するためのコマンドです。

ローカル環境とは、ネットーワークに接続されていない状況下のことを指します。

そのため、事前にパッケージをダウンロードしておく必要があります。<br></br>

<strong>✅ 主なオプション一覧</strong>

| オプション     | フル形式        | 内容                                          |
|----------------|-----------------|-----------------------------------------------|
| `-i`           | `--install`     | `.deb` パッケージをインストールする            |
| `-r`           | `--remove`      | パッケージを削除（設定ファイルは残る）         |
| `-P`           | `--purge`       | 設定ファイルも含めて完全に削除する             |
| `-l`           | `--list`        | インストール済みのパッケージ一覧を表示         |
| `-L`           | `--listfiles`   | インストールされたファイルの一覧を表示         |
| `-s`           | `--status`      | パッケージの詳細情報を表示                     |
| `-S`           | `--search`      | 指定したファイルが属するパッケージを検索する    |


スクリーンショット1枚目は、

`sudo dpkg -i tree_1.7.0-5_amd64.deb` コマンドを実行して、実際に使用してみました。<br></br>


<img width="826" height="341" alt="image" src="https://github.com/user-attachments/assets/c2cd1046-6930-41fb-a0b2-6e238e155d23" />


<br></br>

スクリーンショット2枚目は、先ほどインストールしたパッケージを -r オプションを使用して、削除したものです。

赤線を通りに、確実に削除できたことが分かります。<br></br>


<img width="357" height="72" alt="スクリーンショット 2025-07-14 220331" src="https://github.com/user-attachments/assets/fb0eb7e0-b132-4a8c-b215-039e46b29b03" />



<br></br><br></br>

続いては、`dpkg -reconfigure`コマンドを実行してみました。

最初に、 `cat/etc/timezone` コマンドで現在のタイムゾーンを確認しました。


<img width="613" height="52" alt="image" src="https://github.com/user-attachments/assets/2ed6d251-28dc-4fdc-ade6-229d544e4207" />

<br></br>
UTCだったので、 Asia の Tokyo に変更するために、 `sudo dpkg-reconfigure tzdata` コマンドを実行しました。 <br></br>

<img width="834" height="651" alt="image" src="https://github.com/user-attachments/assets/1c807142-caa3-478d-b0fc-0023a71df856" />

<br></br>

このような画面が表示されて、最初は戸惑いましたが、矢印キーで操作し、enterキーを押してAsiaにしました。
<br></br>

次に、Asia のタイムゾーンの地域一覧が表示されたので、Tokyoを選択しました。<br></br>

<img width="693" height="716" alt="image" src="https://github.com/user-attachments/assets/07c65035-18a7-45b3-a956-39a42dc175b8" />

<br></br>

その結果、元の画面に戻されたので、本当に変更されたか、 

`at/etc/timezone`コマンドを使用し、確認してみました。<br></br>

<img width="1203" height="65" alt="image" src="https://github.com/user-attachments/assets/b9648976-b766-41a8-811f-47f93cfc68e4" />

<br></br>

無事にタイムゾーンが変更されたことが確認できます。
</details>





## ✅ まとめ・今後の予定

今までは、コマンドラインだけの知識しかなかったが、少しずつ複雑な操作を扱えるようになっていき、よりLinuxの学習の楽しさを実感できました。<br></br>

次回はハードウェア・ディスク・パーティション・ファイルシステムについて理解できなかった箇所や要点をまとめます。
> 🔜 ハードウェア・ディスク・パーティション・ファイルシステムについて
